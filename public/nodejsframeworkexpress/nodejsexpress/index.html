<!DOCTYPE html>
<html lang="fr-ca" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/420-514/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=420-514/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.2">
    <meta name="generator" content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862">
    <meta name="description" content="Introduction √† Node.js et Express Historique Avant 2009 le langage (JavaScript) n‚Äô√©tait utilis√© qu‚Äôau c√¥t√© client et ne peut √™tre ex√©cut√© que dans le navigateur (browser) Le code JavaScript √©tait donc cantonn√© au c√¥t√© client. Il servait √† :
manipuler le DOM (Document Object Model), valider des formulaires, cr√©er des animations simples, ajouter de l‚Äôinteractivit√© √† la page. ‚ö†Ô∏è Aucune possibilit√© de g√©rer :
des fichiers sur le serveur, une base de donn√©es, un syst√®me de fichiers ou un r√©seau. Tout cela √©tait r√©serv√© aux langages c√¥t√© serveur (PHP, Java, Python, C#, etc.).">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="NodeJs :: Collecte et interpr√©tation de donn√©es">
    <meta name="twitter:description" content="Introduction √† Node.js et Express Historique Avant 2009 le langage (JavaScript) n‚Äô√©tait utilis√© qu‚Äôau c√¥t√© client et ne peut √™tre ex√©cut√© que dans le navigateur (browser) Le code JavaScript √©tait donc cantonn√© au c√¥t√© client. Il servait √† :
manipuler le DOM (Document Object Model), valider des formulaires, cr√©er des animations simples, ajouter de l‚Äôinteractivit√© √† la page. ‚ö†Ô∏è Aucune possibilit√© de g√©rer :
des fichiers sur le serveur, une base de donn√©es, un syst√®me de fichiers ou un r√©seau. Tout cela √©tait r√©serv√© aux langages c√¥t√© serveur (PHP, Java, Python, C#, etc.).">
    <meta property="og:url" content="http://localhost:1313/420-514/nodejsframeworkexpress/NodeJs/index.html">
    <meta property="og:site_name" content="Collecte et interpr√©tation de donn√©es">
    <meta property="og:title" content="NodeJs :: Collecte et interpr√©tation de donn√©es">
    <meta property="og:description" content="Introduction √† Node.js et Express Historique Avant 2009 le langage (JavaScript) n‚Äô√©tait utilis√© qu‚Äôau c√¥t√© client et ne peut √™tre ex√©cut√© que dans le navigateur (browser) Le code JavaScript √©tait donc cantonn√© au c√¥t√© client. Il servait √† :
manipuler le DOM (Document Object Model), valider des formulaires, cr√©er des animations simples, ajouter de l‚Äôinteractivit√© √† la page. ‚ö†Ô∏è Aucune possibilit√© de g√©rer :
des fichiers sur le serveur, une base de donn√©es, un syst√®me de fichiers ou un r√©seau. Tout cela √©tait r√©serv√© aux langages c√¥t√© serveur (PHP, Java, Python, C#, etc.).">
    <meta property="og:locale" content="fr_ca">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Cadriciel (framework) c√¥t√© serveur : Node.js / express">
    <meta itemprop="name" content="NodeJs :: Collecte et interpr√©tation de donn√©es">
    <meta itemprop="description" content="Introduction √† Node.js et Express Historique Avant 2009 le langage (JavaScript) n‚Äô√©tait utilis√© qu‚Äôau c√¥t√© client et ne peut √™tre ex√©cut√© que dans le navigateur (browser) Le code JavaScript √©tait donc cantonn√© au c√¥t√© client. Il servait √† :
manipuler le DOM (Document Object Model), valider des formulaires, cr√©er des animations simples, ajouter de l‚Äôinteractivit√© √† la page. ‚ö†Ô∏è Aucune possibilit√© de g√©rer :
des fichiers sur le serveur, une base de donn√©es, un syst√®me de fichiers ou un r√©seau. Tout cela √©tait r√©serv√© aux langages c√¥t√© serveur (PHP, Java, Python, C#, etc.).">
    <meta itemprop="wordCount" content="1604">
    <title>NodeJs :: Collecte et interpr√©tation de donn√©es</title><link rel="icon" href="/420-123/images/favicon.png" type="image/png">
    <link href="/420-514/css/auto-complete/auto-complete.min.css?1756084071" rel="stylesheet">
    <script src="/420-514/js/auto-complete/auto-complete.min.js?1756084071" defer></script>
    <script src="/420-514/js/search-lunr.js?1756084071" defer></script>
    <script src="/420-514/js/search.js?1756084071" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/420-514/searchindex.en.js?1756084071";
    </script>
    <script src="/420-514/js/lunr/lunr.min.js?1756084071" defer></script>
    <script src="/420-514/js/lunr/lunr.stemmer.support.min.js?1756084071" defer></script>
    <script src="/420-514/js/lunr/lunr.multi.min.js?1756084071" defer></script>
    <script src="/420-514/js/lunr/lunr.fr.min.js?1756084071" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['fr'];
    </script>
    <link href="/420-514/fonts/fontawesome/css/fontawesome-all.min.css?1756084071" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/420-514/fonts/fontawesome/css/fontawesome-all.min.css?1756084071" rel="stylesheet"></noscript>
    <link href="/420-514/css/perfect-scrollbar/perfect-scrollbar.min.css?1756084071" rel="stylesheet">
    <link href="/420-514/css/theme.css?1756084071" rel="stylesheet">
    <link href="/420-514/css/format-html.css?1756084071" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/nodejsframeworkexpress\/NodeJs\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313\/420-514';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'green' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/420-514/nodejsframeworkexpress/NodeJs/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/420-514/index.html"><span itemprop="name">Collecte et interpr√©tation de donn√©es</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/420-514/nodejsframeworkexpress/index.html"><span itemprop="name">Cadriciel (framework) c√¥t√© serveur : Node.js / express</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">NodeJs</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable nodejsframeworkexpress" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="nodejs">NodeJs</h1>

<h2 id="introduction-√†-nodejs-et-express">Introduction √† Node.js et Express</h2>
<h3 id="historique">Historique</h3>
<p>Avant 2009 le langage (JavaScript) n&rsquo;√©tait utilis√© qu&rsquo;au c√¥t√© client et ne peut √™tre ex√©cut√© que dans le navigateur (browser)
Le code JavaScript √©tait donc cantonn√© au c√¥t√© client. Il servait √† :</p>
<ul>
<li>manipuler le DOM (Document Object Model),</li>
<li>valider des formulaires,</li>
<li>cr√©er des animations simples,</li>
<li>ajouter de l‚Äôinteractivit√© √† la page.</li>
</ul>
<p>‚ö†Ô∏è Aucune possibilit√© de g√©rer :</p>
<ul>
<li>des fichiers sur le serveur,</li>
<li>une base de donn√©es,</li>
<li>un syst√®me de fichiers ou un r√©seau.</li>
</ul>
<p>Tout cela √©tait r√©serv√© aux langages c√¥t√© serveur (PHP, Java, Python, C#, etc.).</p>
<p><a href="#R-image-c11d650eba77538662da705e59762d5b" class="lightbox-link"><img alt="Browser runtine enviroment and engine" class="lazy lightbox figure-image" loading="lazy" src="/420-514/images/Browser_runtine_env-engine.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c11d650eba77538662da705e59762d5b"><img alt="Browser runtine enviroment and engine" class="lazy lightbox lightbox-image" loading="lazy" src="/420-514/images/Browser_runtine_env-engine.png"></a></p>
<p>En 2009, Ryan Dahl introduit Node.js, une innovation qui a chang√© l‚Äôhistoire de JavaScript.
Node.js reprend le moteur V8 de Google Chrome (rapide et optimis√© en C++).</p>
<p><a href="#R-image-008a02bf6754889352ea6e7f8959b8bb" class="lightbox-link"><img alt="Chrome Node V8" class="lazy lightbox figure-image" loading="lazy" src="/420-514/images/Node_Chrome_V8.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-008a02bf6754889352ea6e7f8959b8bb"><img alt="Chrome Node V8" class="lazy lightbox lightbox-image" loading="lazy" src="/420-514/images/Node_Chrome_V8.png"></a></p>
<p>Il l‚Äôembarque en dehors du navigateur, cr√©ant un nouvel environnement d‚Äôex√©cution JavaScript c√¥t√© serveur.
Avec Node.js, JavaScript peut enfin :</p>
<ul>
<li>lire et √©crire dans des fichiers,</li>
<li>g√©rer des connexions r√©seau,</li>
<li>dialoguer avec des bases de donn√©es,</li>
<li>ex√©cuter des applications serveur compl√®tes.</li>
</ul>
<p>üëâ Environnement d‚Äôex√©cution = Node.js (hors navigateur)</p>
<p>üëâ Moteur = V8, mais int√©gr√© dans un cadre √©largi avec des API syst√®me.</p>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Attention : moteur &lt;&gt; environnement
  </summary>
  <div class="box-content">
<ul>
<li>
<p>Moteur JavaScript : logiciel qui traduit le code JavaScript en instructions machine. (Ex. : V8, SpiderMonkey).</p>
</li>
<li>
<p>Environnement d‚Äôex√©cution : contexte dans lequel s‚Äôex√©cute le code, incluant le moteur + les API disponibles.</p>
</li>
<li>
<p>Dans le navigateur : API DOM, √©v√©nements, cookies‚Ä¶</p>
</li>
<li>
<p>Dans Node.js : API fichiers, r√©seau, processus, modules syst√®me‚Ä¶</p>
</li>
</ul>
  </div>
</details>
<h3 id="queest-ce-que-cest-nodejs-">Que&rsquo;est-ce que c&rsquo;est Node.js ?</h3>
<p><strong>Node.js</strong> est un environnement d&rsquo;ex√©cution open-source pour cr√©er des applications et outils c√¥t√© serveur en JavaScript (tel que les APIs), utilis√© hors navigateur (directement sur l&rsquo;ordinateur ou le serveur). Node se distingue par d&rsquo;excellentes performances, un code uniquement en JavaScript, et un vaste √©cosyst√®me via NPM, ce qui simplifie le d√©veloppement d&rsquo;applications web performantes.</p>
<p><a href="#R-image-ea6dee8b4ee9366d39d9787202b19477" class="lightbox-link"><img alt="Serveur nodeJS" class="lazy lightbox figure-image" loading="lazy" src="/420-514/images/clientServerNodeExchange.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ea6dee8b4ee9366d39d9787202b19477"><img alt="Serveur nodeJS" class="lazy lightbox lightbox-image" loading="lazy" src="/420-514/images/clientServerNodeExchange.png"></a></p>
<p>Source : <a href="https://app.pluralsight.com/library/courses/nodejs-express-foundations/description" rel="external" target="_blank">https://app.pluralsight.com/library/courses/nodejs-express-foundations/description</a></p>
<h3 id="avantages-de-nodejs">Avantages de Node.js</h3>
<ul>
<li><strong>Performance</strong> : Optimis√© pour les applications web √©volutives, notamment en temps r√©el.</li>
<li><strong>Un langage unique</strong> : JavaScript est utilis√© √† la fois c√¥t√© client et serveur.</li>
<li><strong>√âcosyst√®me NPM</strong> : Acc√®s √† de nombreuses biblioth√®ques r√©utilisables.</li>
</ul>
<h3 id="installer-node-js">Installer Node js</h3>
<p>Pour installer Node Js aller sur le lien suivant : <a href="https://nodejs.org/fr/download/package-manager" rel="external" target="_blank">https://nodejs.org/fr/download/package-manager</a></p>
<h3 id="exemples-de-code">Exemples de code</h3>
<p><strong>Hello Node.js</strong> : Un exemple simple de serveur web Node.js qui r√©pond &ldquo;Salut tout le monde&rdquo;.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sayHello</span>(<span style="color:#a6e22e">name</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`Hello </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sayHello</span>(<span style="color:#e6db74">&#39;students&#39;</span>);</span></span></code></pre></div>
<hr>
<h3 id="le-syst√®me-node-module">Le syst√®me node module</h3>
<h4 id="-les-objets-globaux--navigateur-vs-nodejs">üåç Les objets globaux : Navigateur vs Node.js</h4>
<h5 id="dans-le-navigateur">Dans le navigateur</h5>
<ul>
<li>L‚Äôenvironnement d‚Äôex√©cution est le <strong>navigateur</strong>.</li>
<li>L‚Äôobjet global est : <strong><code>window</code></strong>.</li>
<li>Tous les objets, fonctions ou variables globales sont <strong>attach√©s √† <code>window</code></strong>.</li>
</ul>
<p>Exemple :</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(window.document); <span style="color:#75715e">// Acc√®de au DOM
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>window.<span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Bonjour depuis le navigateur !&#34;</span>);</span></span></code></pre></div>
<h5 id="dans-nodejs">Dans Node.js</h5>
<ul>
<li>L‚Äôenvironnement d‚Äôex√©cution est <strong>Node.js</strong> (hors navigateur).</li>
<li>L‚Äôobjet global est : <strong><code>global</code></strong>.</li>
<li>Tous les objets et fonctions globales comme :
<ul>
<li><code>console.log()</code></li>
<li><code>setTimeout()</code></li>
<li><code>clearTimeout()</code></li>
<li><code>setInterval()</code></li>
<li><code>clearInterval()</code></li>
<li>etc.</li>
</ul>
</li>
</ul>
<p>sont <strong>attach√©s √† <code>global</code></strong>.</p>
<p>Exemple :</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">global</span>.<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Salut depuis Node.js üëã&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">setTimeout</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">global</span>.<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Ceci s‚Äôex√©cute apr√®s 1 seconde&#34;</span>);
</span></span><span style="display:flex;"><span>}, <span style="color:#ae81ff">1000</span>);</span></span></code></pre></div>
<p>‚ö†Ô∏è Dans Node.js, il n‚Äôy a pas de <code>window</code> ni de <code>document</code> ‚Üí pas de DOM.</p>
<blockquote>
<p>Node.js fournit aussi un alias <strong><code>globalThis</code></strong>, qui est un standard JavaScript moderne :
<code>js
 globalThis.console.log(&quot;Salut avec globalThis&quot;);
 </code></p></blockquote>
<p>üëâ Ainsi, on a :</p>
<ul>
<li>Navigateur : <code>window === globalThis</code> ‚úÖ</li>
<li>Node.js : <code>global === globalThis</code> ‚úÖ</li>
</ul>
<p>en r√©sum√©</p>
<table>
  <thead>
      <tr>
          <th>Contexte</th>
          <th>Objet global</th>
          <th>Exemple</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Navigateur</td>
          <td><code>window</code></td>
          <td><code>window.alert(&quot;Bonjour&quot;)</code></td>
      </tr>
      <tr>
          <td>Node.js</td>
          <td><code>global</code></td>
          <td><code>global.console.log(&quot;Salut&quot;)</code></td>
      </tr>
      <tr>
          <td>Standard (les deux)</td>
          <td><code>globalThis</code></td>
          <td><code>globalThis.setTimeout(...)</code></td>
      </tr>
  </tbody>
</table>
<h4 id="-les-modules-en-nodejs">üì¶ Les modules en Node.js</h4>
<p>En node chaque fichier est un module et les fonctions ainsi que les variables d√©finies dans ce fichier ne sont disponible qu&rsquo;√† l&rsquo;interieur de ce module.
Cela permet :</p>
<ul>
<li>d‚Äôorganiser le code en plusieurs fichiers,</li>
<li>d‚Äô√©viter la duplication,</li>
<li>de partager des fonctionnalit√©s entre projets.</li>
</ul>
<h5 id="types-de-modules-dans-nodejs">Types de modules dans Node.js</h5>
<ol>
<li>
<p><strong>Modules internes (built-in)</strong></p>
<ul>
<li>
<p>D√©j√† fournis avec Node.js.</p>
</li>
<li>
<p>Exemples :</p>
<ul>
<li><code>fs</code> (fichiers),</li>
<li><code>http</code> (serveur web),</li>
<li><code>path</code> (chemins de fichiers),</li>
<li><code>os</code> (syst√®me d‚Äôexploitation).</li>
</ul>
</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fs</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;fs&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">writeFileSync</span>(<span style="color:#e6db74">&#39;test.txt&#39;</span>, <span style="color:#e6db74">&#39;Bonjour Node.js !&#39;</span>);</span></span></code></pre></div>
</li>
<li>
<p><strong>Modules locaux (cr√©√©s par nous)</strong></p>
<ul>
<li>Nos propres fichiers <code>.js</code>.</li>
<li>Exemple :</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// fichier math.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">addition</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">addition</span>;</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// fichier app.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">addition</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./math&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">addition</span>(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)); <span style="color:#75715e">// 5
</span></span></span></code></pre></div>
</li>
<li>
<p><strong>Modules tiers (install√©s avec npm)</strong></p>
<ul>
<li>Modules cr√©√©s par la communaut√©.</li>
<li>Exemple : <code>express</code>, <code>lodash</code>, <code>mongoose</code>.</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install express</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">express</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;express&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">express</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/&#39;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#39;Hello Express üöÄ&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">listen</span>(<span style="color:#ae81ff">3000</span>);</span></span></code></pre></div>
</li>
</ol>
<hr>
<h5 id="syst√®mes-de-modules">üì¶Syst√®mes de modules</h5>
<h6 id="a-commonjs-historiquement-utilis√©-par-nodejs">a) CommonJS (historiquement utilis√© par Node.js)</h6>
<ul>
<li>Utilise <code>require()</code> pour importer.</li>
<li>Utilise <code>module.exports</code> pour exporter.</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// math.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">addition</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">multiplication</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">b</span>
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// app.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">math</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./math&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">addition</span>(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>));</span></span></code></pre></div>
<h6 id="b-es-modules-standard-moderne-javascript">b) ES Modules (standard moderne JavaScript)</h6>
<ul>
<li>Utilise <code>import</code> / <code>export</code>.</li>
<li>N√©cessite d‚Äôajouter <code>&quot;type&quot;: &quot;module&quot;</code> dans <code>package.json</code>.</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// math.mjs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">addition</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// app.mjs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">addition</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./math.mjs&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">addition</span>(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>));</span></span></code></pre></div>
<p>Voici un r√©sum√© comparatif</p>
<table>
  <thead>
      <tr>
          <th>Type de module</th>
          <th>Exemple import</th>
          <th>Exemple export</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>CommonJS</strong> (par d√©faut Node.js)</td>
          <td><code>const x = require('./fichier')</code></td>
          <td><code>module.exports = ...</code></td>
      </tr>
      <tr>
          <td><strong>ES Module</strong> (standard moderne)</td>
          <td><code>import x from './fichier.js'</code></td>
          <td><code>export default ...</code> ou <code>export function ...</code></td>
      </tr>
  </tbody>
</table>
<p>Exemple d&rsquo;un simple serveur</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">http</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;http&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">hostname</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;127.0.0.1&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">port</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">8000</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">server</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">createServer</span>((<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">writeHead</span>(<span style="color:#ae81ff">200</span>, { <span style="color:#e6db74">&#34;Content-Type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;text/plain&#34;</span> });
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">end</span>(<span style="color:#e6db74">&#34;Salut tout le monde&#34;</span>);
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">server</span>.<span style="color:#a6e22e">listen</span>(<span style="color:#a6e22e">port</span>, <span style="color:#a6e22e">hostname</span>, () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`Le serveur tourne √† l&#39;adresse http:\\</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">hostname</span><span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">port</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/`</span>);
</span></span><span style="display:flex;"><span>});</span></span></code></pre></div>
<h3 id="utilisation-des-modules">Utilisation des Modules</h3>
<p>Les modules permettent d&rsquo;organiser et r√©utiliser le code. Vous pouvez cr√©er et importer des modules en utilisant <code>require()</code>.</p>
<p><strong>Exemple de module :</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">area</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">width</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">width</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">width</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">perimeter</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">width</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">width</span>;
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<p>Ou</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#75715e">// dans mathOperations.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">subtract</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">multiply</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">divide</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">b</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;Division par z√©ro&#39;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">/</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Export des fonctions pour les rendre disponibles dans d&#39;autres fichiers
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">add</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">subtract</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">multiply</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">divide</span>
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<h3 id="middleware-et-gestion-des-erreurs">Middleware et Gestion des Erreurs</h3>
<p>Les middlewares sont des fonctions interm√©diaires dans le traitement des requ√™tes. Ils sont essentiels pour g√©rer les fichiers statiques, les sessions, les erreurs, etc.</p>
<p><a href="#R-image-27b51ec8ed120caa87260cf2a0567104" class="lightbox-link"><img alt="Middleware" class="lazy lightbox figure-image" loading="lazy" src="/420-514/images/Middleware.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-27b51ec8ed120caa87260cf2a0567104"><img alt="Middleware" class="lazy lightbox lightbox-image" loading="lazy" src="/420-514/images/Middleware.png"></a></p>
<p>Source : <a href="https://app.pluralsight.com/library/courses/nodejs-express-foundations/description" rel="external" target="_blank">https://app.pluralsight.com/library/courses/nodejs-express-foundations/description</a></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">express</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;express&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">express</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">middlewareFunction</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Logique du middleware
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">middlewareFunction</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">listen</span>(<span style="color:#ae81ff">3000</span>);</span></span></code></pre></div>
<p>Un <strong>middleware</strong> dans Express (et plus g√©n√©ralement dans Node.js) est une fonction qui a acc√®s √† l&rsquo;objet de requ√™te (<code>req</code>), l&rsquo;objet de r√©ponse (<code>res</code>), et √† la fonction <code>next()</code> dans le cycle de traitement des requ√™tes HTTP.</p>
<p>Les middlewares permettent de modifier, d&rsquo;analyser, d&rsquo;intercepter ou de r√©pondre aux requ√™tes avant qu&rsquo;elles n&rsquo;atteignent les routes finales. Ils sont tr√®s utiles pour ajouter des fonctionnalit√©s transversales (comme l&rsquo;authentification, la gestion des erreurs, le logging, etc.) sans modifier chaque route de l&rsquo;application.</p>
<h3 id="fonctionnement-dun-middleware-">Fonctionnement d&rsquo;un middleware :</h3>
<p>Un middleware est une fonction qui peut faire les choses suivantes :</p>
<ol>
<li><strong>Ex√©cuter du code</strong>.</li>
<li><strong>Modifier l&rsquo;objet de requ√™te (<code>req</code>) ou de r√©ponse (<code>res</code>)</strong>.</li>
<li><strong>Terminer le cycle de la requ√™te/r√©ponse</strong> (par exemple en renvoyant une r√©ponse au client).</li>
<li><strong>Appeler la fonction <code>next()</code></strong> pour passer la main au middleware suivant dans la cha√Æne.</li>
</ol>
<h3 id="exemple-de-middleware-simple-">Exemple de middleware simple :</h3>
<p>Voici un exemple basique d&rsquo;un middleware dans Express :</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>((<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Middleware ex√©cut√© pour chaque requ√™te&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">next</span>(); <span style="color:#75715e">// Passe la main au middleware ou √† la route suivante
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>});</span></span></code></pre></div>
<p>Dans cet exemple :</p>
<ul>
<li>Ce middleware s&rsquo;ex√©cutera pour <strong>toutes les requ√™tes</strong> re√ßues par l&rsquo;application.</li>
<li>Il affiche un message dans la console et appelle <code>next()</code> pour permettre √† Express de continuer avec les middlewares suivants ou les routes d√©finies.</li>
</ul>
<h3 id="types-de-middlewares-dans-express-">Types de middlewares dans Express :</h3>
<ol>
<li>
<p><strong>Middlewares d&rsquo;application</strong> :</p>
<ul>
<li>
<p>Ces middlewares sont associ√©s √† l&rsquo;instance de l&rsquo;application (<code>app</code>) et s&rsquo;ex√©cutent pour toutes les routes ou pour des routes sp√©cifiques.</p>
</li>
<li>
<p>Exemple :</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>((<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Ceci est un middleware d\\&#39;</span><span style="color:#a6e22e">application</span><span style="color:#960050;background-color:#1e0010">&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>});</span></span></code></pre></div>
</li>
</ul>
</li>
<li>
<p><strong>Middlewares sp√©cifiques √† une route</strong> :</p>
<ul>
<li>
<p>Ils s&rsquo;appliquent √† une ou plusieurs routes sp√©cifiques.</p>
</li>
<li>
<p>Exemple :</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/user&#39;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Middleware pour la route /user&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>}, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#39;Profil utilisateur&#39;</span>);
</span></span><span style="display:flex;"><span>});</span></span></code></pre></div>
</li>
</ul>
</li>
<li>
<p><strong>Middlewares int√©gr√©s</strong> :</p>
<ul>
<li>
<p>Express fournit des middlewares int√©gr√©s comme <code>express.json()</code> ou <code>express.urlencoded()</code> pour parser les corps des requ√™tes.</p>
</li>
<li>
<p>Exemple :</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">express</span>.<span style="color:#a6e22e">json</span>());</span></span></code></pre></div>
</li>
</ul>
</li>
<li>
<p><strong>Middlewares tiers</strong> :</p>
<ul>
<li>
<p>Vous pouvez installer des middlewares fournis par la communaut√© pour des t√¢ches sp√©cifiques, comme la gestion des sessions, la s√©curit√©, etc.</p>
</li>
<li>
<p>Exemple : <code>morgan</code> pour le logging des requ√™tes HTTP.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">morgan</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;morgan&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">morgan</span>(<span style="color:#e6db74">&#39;dev&#39;</span>));</span></span></code></pre></div>
</li>
</ul>
</li>
<li>
<p><strong>Middlewares de gestion des erreurs</strong> :</p>
<ul>
<li>
<p>Un middleware de gestion des erreurs prend quatre param√®tres : <code>(err, req, res, next)</code> et est utilis√© pour capturer les erreurs et renvoyer des r√©ponses appropri√©es.</p>
</li>
<li>
<p>Exemple :</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>((<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">stack</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">500</span>).<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#39;Quelque chose s\\&#39;</span><span style="color:#a6e22e">est</span> <span style="color:#a6e22e">mal</span> <span style="color:#a6e22e">pass√©</span> <span style="color:#f92672">!</span><span style="color:#960050;background-color:#1e0010">&#39;</span>);
</span></span><span style="display:flex;"><span>});</span></span></code></pre></div>
</li>
</ul>
</li>
</ol>
<h3 id="pourquoi-utiliser-des-middlewares-">Pourquoi utiliser des middlewares ?</h3>
<ol>
<li><strong>Modularit√©</strong> : Ils permettent d&rsquo;ajouter des fonctionnalit√©s r√©utilisables, comme la gestion des sessions, sans toucher √† chaque route de l&rsquo;application.</li>
<li><strong>Composabilit√©</strong> : Les middlewares peuvent √™tre cha√Æn√©s pour cr√©er un pipeline de traitement des requ√™tes.</li>
<li><strong>R√©utilisabilit√©</strong> : Vous pouvez cr√©er des middlewares personnalis√©s qui peuvent √™tre r√©utilis√©s √† travers plusieurs routes ou applications.</li>
</ol>
<h3 id="utilisation-des-bases-de-donn√©es">Utilisation des Bases de Donn√©es</h3>
<p>Node.js prend en charge plusieurs bases de donn√©es comme MongoDB. Pour connecter votre application √† une base de donn√©es, vous devez installer le pilote correspondant.</p>
<p><strong>Exemple MongoDB :</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">MongoClient</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;mongodb&#34;</span>).<span style="color:#a6e22e">MongoClient</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">MongoClient</span>.<span style="color:#a6e22e">connect</span>(<span style="color:#e6db74">&#34;mongodb://localhost:27017/animals&#34;</span>, (<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">client</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">err</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">db</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">db</span>(<span style="color:#e6db74">&#34;animals&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">db</span>.<span style="color:#a6e22e">collection</span>(<span style="color:#e6db74">&#34;mammals&#34;</span>).<span style="color:#a6e22e">find</span>().<span style="color:#a6e22e">toArray</span>((<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">result</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">err</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">result</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>});</span></span></code></pre></div>
<h3 id="rendu-des-vues">Rendu des Vues</h3>
<p>Express prend en charge plusieurs moteurs de rendu de templates pour g√©n√©rer des r√©ponses HTML dynamiques.</p>
<p><strong>Exemple de rendu de vue :</strong></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;/&#34;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">render</span>(<span style="color:#e6db74">&#34;index&#34;</span>, { <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;√Ä propos des poules&#34;</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Elles sont o√π ?&#34;</span> });
</span></span><span style="display:flex;"><span>});</span></span></code></pre></div>
<hr>
<h2 id="liens-utiles-">Liens utiles :</h2>
<p>Site de Node.js :</p>
<p><a href="https://nodejs.org/fr" rel="external" target="_blank">Node.js ‚Äî Ex√©cuter du JavaScript partout</a></p>
<p>Formation : <a href="https://app.pluralsight.com/library/courses/nodejs-express-foundations/description" rel="external" target="_blank">https://app.pluralsight.com/library/courses/nodejs-express-foundations</a></p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
          <a id="R-logo" class="R-default" href="/420-514/index.html">
            <div class="logo-title">Collecte et interpr√©tation de donn√©es</div>
          </a>
        </div>
        <search><form action="/420-514/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/420-514/intro/index.html"><a class="paNodeJs/420-514/intro/index.html">1. Pr√©alables</a><ul id="R-subsections-58f2NodeJs8bdd3a21213404a" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-id="/420-514/nodejsframeworkexpress/index.html"><a class="padding" href="/420-514/nodejsframeworkexpress/index.html">2. Cadriciel (framework) c√¥t√© serveur : Node.js / express</a><ul id="R-subsections-0ef22c48ddd9f1f383c22c15e8abd43a" class="collapsible-menu">
            <li class="active " data-nav-id="/420-514/nodejsframeworkexpress/nodejsexpress/index.html"><a class="padding" href="/420-514/nodejsframeworkexpress/nodejsexpress/index.html">NodeJs</a></li>
            <li class="" data-nav-id="/420-514/nodejsframeworkexpress/lab/index.html"><a class="padding" href="/420-514/nodejsframeworkexpress/lab/index.html">Laboratoire : Commencer avec Node.js et Express.js</a></li></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
  <div class="logo-title">Sara Boumehraz</div>
  <br/>
  <img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" />
</a>
<br>Creative Commons BY-NC-SA</br></div>
      </div>
    </aside>
    <script src="/420-514/js/clipboard/clipboard.min.js?1756084071" defer></script>
    <script src="/420-514/js/perfect-scrollbar/perfect-scrollbar.min.js?1756084071" defer></script>
    <script src="/420-514/js/theme.js?1756084071" defer></script>
  </body>
</html>
